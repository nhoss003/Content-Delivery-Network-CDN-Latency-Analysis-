(function(g){function D(a,b,c){function e(a){g.FT.$(document).off(d,e);a=/error$/i.test(a.type)?c:b;"function"===typeof a&&a()}for(var f,d="fullscreenerror mozfullscreenerror webkitfullscreenerror MSFullscreenError fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",l=a.requestFullscreen,h=["ms","moz","webkit"];!l&&(f=h.pop());)l=a[f+"RequestFullscreen"]||a[f+"RequestFullScreen"]||a[f+"EnterFullscreen"];l?(g.FT.$(document).on(d,e),l.call(a)):"function"===typeof c&&c()}
function B(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}function J(a){function b(){B()||(g.FT.$(document).off(c,b),a.contract())}var c="fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange";g.FT.$(document).on(c,b)}function E(a,b){function c(a){var c=b.video,h=g.querySelector(".ft-video-progress-bar"),d=Date.now();a=Math.max(0,Math.min(h.offsetWidth,(a.touches?a.touches[0]:a).pageX-h.getBoundingClientRect().left));
300>d-m||(m=d,c.duration?c.currentTime=a/h.offsetWidth*c.duration:c.seekToPoint&&c.seekToPoint(a/h.offsetWidth))}function e(a){var h="IFRAME"!==a.target.tagName?a.target.ownerDocument:a.target.contentWindow.document;p=!1;document.body.removeEventListener("mousemove",c);document.body.removeEventListener("touchmove",c);["mouseleave","mouseup","touchend","touchcancel"].forEach(function(a){h.removeEventListener(a,e,!0)});t&&b.video.play()}function f(a){var c=a.target,h=b.video,m=h.currentTime;switch(a.type){case "progress":if(!a.detail&&
!h.buffered.length)break;a=a.detail&&a.detail.cvLoadRatio||h.buffered.end(0)/h.duration;w.children[0].style.width=100*a+"%";break;case "timeupdate":case "durationchange":w.children[1].style.width=100*(a.detail&&a.detail.hasOwnProperty("cvPlayRatio")?a.detail.cvPlayRatio:m/c.duration)+"%";u.textContent=~~(m/60)+":"+("0"+~~(m%60)).slice(-2);break;case "playing":d();case "volumechange":z.textContent=h.muted?"G":"F";case "pause":p||(x.textContent=h.paused?"D":"E");break;case "ended":d()}}function d(a){var c=
g.getBoundingClientRect(),m=b.video;a=!m.paused&&(!a||"touchstart"!==a.type&&(a.pageX<=c.left||a.pageX>=c.right||a.pageY<=c.top||a.pageY>=c.bottom));x.textContent=m.paused?"D":"E";z.textContent=m.muted?"G":"F";g.className=g.className.replace(/\s*hidden\s*/,"");clearTimeout(h);a&&(h=setTimeout(function(){g.className+=" hidden"},4E3))}var l,h,m,n=b.videoElement,q=b.settings.parent,p=!1,t;l=/iP(ad|od|hone)/.test(navigator.userAgent);var v=b.settings.autoplay,g=a.appendChild(F.cloneNode(!0)),s="timeupdate durationchange volumechange pause playing ended progress".split(" "),
r=["mousemove","mouseout","touchstart","touchend"],x=g.children[0],w=g.children[1].children[0],u=g.children[2],z=g.children[3],G=g.children[4];l&&!v&&(F.childNodes[3].style.display="none");x.textContent=b.video.paused?"D":"E";z.textContent=b.settings.muted?"G":"F";g.onselectstart=function(){return!1};for(l=s.length;l--;)q.addEventListener(s[l],f,!0);for(l=r.length;l--;)a.addEventListener(r[l],d),q.addEventListener(r[l],d);n.buffered&&n.buffered.length&&(w.children[0].style.width=n.buffered.end(0)/
n.duration*100+"%");q.addEventListener("emptied",function(){var a=b.video;w.children[0].style.width=w.children[1].style.width=0;u.textContent="0:00";z.textContent=a.muted?"G":"F";x.textContent=a.paused?"D":"E"},!0);g.onclick=function(a){var c=b.video,h=a.target;a.stopPropagation();switch(h.className){case "ft-icon-play":c[c.paused?"play":"pause"]();break;case "ft-icon-volume":c.muted^=1;break;case "ft-icon-fullscreen":a=b.isFullscreen(),b[a?"leaveFullscreen":"goFullscreen"](),G.textContent=G?"B":
"C"}};g.onmousedown=g.ontouchstart=function(a){var h=a.target,m=["mouseleave","mouseup","touchend","touchcancel"];a.stopPropagation();if(!p)switch(h.className){case "ft-video-buffer":case "ft-video-progress":h=h.parentNode;case "ft-video-progress-bar":a.preventDefault(),p=!0,t=!b.video.paused,b.video.pause(),document.body.addEventListener("mousemove",c),document.body.addEventListener("touchmove",c),m.forEach(function(a){h.ownerDocument.addEventListener(a,e,!0)}),c(a)}};d()}function L(a){var b,c=document.body.appendChild(document.createElement("span"));
c.textContent="ABCDEFG";c.style.cssText="position: absolute; z-index: 10000; left:-999px;";b=c.offsetWidth;c.style.fontFamily="ftglyphs";setTimeout(function f(){if(c.offsetWidth!==b)return c.parentNode.removeChild(c),a(!0);setTimeout(f,100)},200)}function C(a){function b(a){for(var b=a.length;b--;)if(a[b].name===d)return a[b].ref}function c(){C(a)}var k=a.myFT,f=a.settings,d=f.video,l=/^(https?:|\/\/).*?\byoutu\.?be\b/;if(k.getManifest("filename")&&!a.filepath){var h=k.getManifest("instantAds"),m=
k.getManifest("videos"),n=h?h.length:null,q=function(){var b=f.controlsParent||a.container,c=b&&b.querySelector(".ft-video-controls");c?c.style.display=a.ytVideo?"none":"":a.ytVideo||!f.controls||!f.forceAutoplay&&/^iPhone|iPod$/.test(navigator.platform)||(M?E(b,a):L(function(){E(b,a)}))};if(h){if(!k.instantAdsLoaded){k.addEventListener("instantads",c);return}for(var p=function(a,b){for(var c=a.length;c--;)if(a[c].name===b)return a[c]}(m,d);n--;)if(p&&h[n].name===d&&"video"===h[n].type.toLowerCase()||
"text"===h[n].type.toLowerCase()&&l.test(p.ref)){if(p.name===d&&!l.test(p.ref)){k.get("adPreview")&&(a.h=k.instantAds[d]);a.filepath=k.instantAds[d]||p.ref;a.loadVid();q();return}if(p.name===d&&l.test(p.ref)){a.filepath=l.test(k.instantAds[d])?k.instantAds[d]:p.ref;a.loadYouTubeVid(d,f,!0);return}}else k.error("applyVideo","Instant video name '"+d+"' has no matching item in the Video component of the manifest")}if(!h||k.instantAdsLoaded&&!a.filepath)a.filepath=b(m),l.test(a.filepath)?a.loadYouTubeVid(d,
f,!1):a.loadVid(),q()}else e.addEventListener("manifest",c),a.filepath||k.addEventListener("instantads",c)}function A(a,b){var c=a.settings.actionQueue||[];c.push(b);a.settings.actionQueue||(a.settings.actionQueue=c)}function N(a){function b(){e.$(document).off(H,b);a.play()}a.video.paused||a.ytVideo&&2===a.video.getPlayerState()||(a.pause(),e.$(document).on(H,b))}var I=e,O=1,e=g.FT=function(){var a=this,b;e.makeDispatcher(this);a.version=2.8;a.placementProperties={};a.manifestProperties={};a.firedStandardEvents=
{};a.hasLoaded=!1;a.testMode=!1;a.notTop=g!==g.top;a.politeloadFired=!1;a.adsLinked=!1;g!==g.top&&-1===location.search.indexOf("test")||e.preventFTTestMode?e.addListener(g,"message",function(b){a.receiveMessages(b)}):a.testMode=!0;a.addEventListener("politeload",function(){a.politeloadFired=!0});try{if(a.testMode){if(a.placementProperties=e.testing.call(a,{clickTagCount:20}),g.matchMedia){var c=matchMedia("(orientation: portrait)"),k=function(){var b=this.matches?0:90;setTimeout(function(){a.dispatchEvent("orientationchange",
{orientation:b,width:g.innerWidth,height:g.innerHeight,scale:g.innerWidth/document.documentElement.clientWidth})})}.bind(c);c.addListener?c.addListener(k):e.addListener(g,"resize",k);k(c)}}else a.placementProperties=JSON.parse(g.name);g.name=""}catch(f){}try{a.placementProperties.guid=g.localStorage.ftGUID||a.placementProperties.guid}catch(d){a.placementProperties.guid=a.placementProperties.guid}a.addEventListener("orientationchange",function(b){a.placementProperties.orientation=b.orientation;a.placementProperties.maxWidth=
b.width;a.placementProperties.maxHeight=b.height;a.placementProperties.scale=b.scale});a.addEventListener("statechange",function(b){a.placementProperties.state=b});a.addEventListener("viewablechange",function(b){a.placementProperties.isViewable=b});a.addEventListener("maxsizechange",function(b){a.placementProperties.maxWidth=b.width||a.placementProperties.maxWidth;a.placementProperties.maxHeight=b.height||a.placementProperties.maxHeight});a.addEventListener("sizechange",function(b){a.placementProperties.currentWidth=
b.width;a.placementProperties.currentHeight=b.height});a.placementProperties.currentWidth=a.placementProperties.currentWidth||g.innerWidth||document.documentElement.clientWidth;a.placementProperties.currentHeight=a.placementProperties.currentHeight||g.innerHeight||document.documentElement.clientHeight;if(!0===a.get("testInAdserverMode")||/^https?:\/\/www\.flashtalking\.net\/uploads\//i.test(location.href))a.tia=!0;e.addListener(g,"click",function(b){a.clickManager.call(a,b)},!1);e.$(g).on("pointerdown MSPointerDown touchstart",
function(){a.send("interaction")});e.listen(g,"resize",function(){a.dispatchEvent("sizechange",{width:g.innerWidth||document.documentElement.clientWidth,height:g.innerHeight||document.documentElement.clientHeight})});"loading"!==document.readyState?(a.dispatchEvent("DOMLoaded"),"complete"===document.readyState||"loaded"===document.readyState?a.dispatchEvent("load"):e.addListener(g,"load",function(b){a.dispatchEvent("load",b)})):e.addListener(document,"readystatechange",function(){"interactive"===
document.readyState?a.dispatchEvent("DOMLoaded"):a.dispatchEvent("load")});for(b in e.initialisation)e.initialisation[b].call(this);e.addEventListener("manifest",function(b){var c={version:a.version,location:location.href,guid:a.get("guid")||!1};a.manifestProperties=b;a.testMode?(b={method:"init",msg:e.testing.call(a,b)},a.receiveMessages({data:JSON.stringify(b)})):a.send("ready",c)});this.defaultCSS='body{margin: 0; padding: 0;}ft-richload, richload{display:block;position:relative;margin:0;padding:0;border:0;}.ft-video, .ft-video *{-webkit-tap-highlight-color:rgba(0, 0, 0, 0);}.ft-video{display:inline-block;}.ft-video img,.ft-video video,.ft-video iframe,.ft-video canvas{width:inherit;height:inherit;max-width:inherit;max-height:inherit;min-width:100%;min-height:100%;}@font-face{font-family:"ftglyphs";src:url("${baseURL}/fonts/ftglyphs.eot");src:url("${baseURL}/fonts/ftglyphs.eot?") format("eot"), url("${baseURL}/fonts/ftglyphs.woff") format("woff"), url("${baseURL}/fonts/ftglyphs.svg") format("svg");}[class^="ft-icon-"]{font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;padding:0 3px;height:20px;min-width:24px;line-height:20px;cursor:default;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}.ft-video{position:relative;display:inline-block;}.ft-video iframe{border:none;}.ft-video-controls{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;color:#fff;speak:none;font-family:ftglyphs;box-sizing:border-box;background-color:rgba(0, 0, 0, 0.7);font-size:18px;display:table;position:absolute;bottom:10px;left:2%;width:96%;height:26px;margin:0 auto;padding:0 2px;border-radius:4px;transition:all 200ms;text-align:center;-webkit-transition:all 200ms;-moz-transition:all 200ms;}.ft-video-controls *{font-family:ftglyphs;}.ft-video-controls.hidden{opacity:0;bottom:0;}[class^="ft-icon-"], .ft-video-progress-container, .ft-time-display{display:table-cell;vertical-align:middle;width:24px;padding:5px 2px;}.ft-video-progress-container{width:100%;}.ft-video-progress-bar{overflow:hidden;display:block;position:relative;box-sizing:border-box;border:2px solid white;border-radius:8px;width:100%;height:12px;}.ft-video-progress-bar::after{position: absolute;top:0;left:0;right:0;bottom:0;box-shadow:inset 0 0 4px black;border-radius:8px;content:"";}.ft-video-progress,.ft-video-buffer{position:absolute;top:0px;bottom:0px;left:0px;background-color:#fff;}.ft-video-buffer{background-color:rgba(255, 255, 255, 0.4);}.ft-time-display{line-height:1.7em;font-size:0.7em;width:50px;padding:5px 5px;}[class^="ft-share-"]{font-family:ftglyphs;size:20px;}[class^="ft-share-twitter"]{color:#55acee;}[class^="ft-share-facebook"]{color:#3b579d;}.ft-share-twitter:before{content: "Z";}.ft-share-twitter-square:before{content: "Y";}.ft-share-facebook:before{content: "X";}.ft-share-facebook-square:before{content: "W";}';
e.insertCSS(document,this.defaultCSS);e.include("manifest.js")};I&&(e.__proto__=I);(function(a){function b(a,b){for(var c=0,h=a.length;c<h&&!1!==b(a[c],c,a);c++);}function c(a){setTimeout(function(){var b=m(a),c=b?a[0]:a,b=b?a[1]:a,h,e;if(g.hasOwnProperty(c)||d.hasOwnProperty(c))return k();n.hasOwnProperty(c)&&(b=q+[c,n[c],c+".js"].join("/"),/https?:/.test(location.protocol)||(b="http:"+b));/\.js/.test(b)||/^(http|\/\/)/.test(b)||(b=b.replace(".","/")+".js");/.+!(.*?$)/.test(b)&&(e="__asyncs__"+Date.now(),
h=b.match(/.+!(.*?$)/)[1]);f(c,b,h,e)})}function k(){function a(b,c){c=m(b)?b[0]:b;d.hasOwnProperty(c)&&e.push(d[c])}for(var c,q,n,f,e,p=h.length;p--;)c=h[p],q=c[0],n=c[1],f=c[2],e=[],b(n,a),n.length&&n.length!==e.length||(h.splice(p,1),p=h.length,f="function"===typeof f?f.apply(this,e):f,c.push(!0),null!==q&&(d[q]=f))}function f(a,b,c,h){if(!a||!document.querySelector('script[data-module="'+a.replace(/"/g,'\\"')+'"]')){var m=document.createElement("script"),n=function(){if(!this.readyState||/^(?:loaded|complete)$/.test(this.readyState))m.onload=
m.onreadystatechange=null,m.parentNode&&m.parentNode.removeChild(m),g.hasOwnProperty(a)||(d[a]=void 0,k())};h?(e[h]=n,b=b.replace("!"+c,(0>b.indexOf("?")?"?":"&")+c+"=FT."+h)):m.onload=m.onreadystatechange=n;m.async=!0;m.src=b;m.setAttribute("data-module",a.replace("!"+String(c),""));p.appendChild(m)}}var d={},g={},h=[],m=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},n={canvasvideo:"1/3",carousel:"1/1",photoinput:"1/0",storelocator:"2/0",subloader:"1/1",touch:"1/1",transform:"1/1",
maps:"2/0"},q="//cdn.flashtalking.com/frameworks/js/",p=document.head||document.querySelector("head");e.require=e.define=function(a,b,d){"string"!==typeof a&&(d=b,b=a,a=null);m(b)||(d=b,b=[]);n.hasOwnProperty(String(a).toLowerCase())&&(a=String(a).toLowerCase());a&&(g[a]=!0);h.unshift([a,b,d]);k();if(b.length)for(d=0;d<b.length;d++)a=String(m(b[d])?b[d][0]:b[d]).toLowerCase(),n.hasOwnProperty(a)&&(b[d]=a),c(b[d])};a.define||a.require||(a.require=a.define=e.require=e.define)})(this);e.query=function(a){var b=
null;return b=a.match(/#[a-z0-9_\-]+$/i)?document.querySelector(a):document.querySelectorAll(a)};e.include=function(a,b){e.require([a],b)};e.addListener=function(a,b,c){a.on||(a=e.$(a));a.on(b,c)};e.listen=e.addListener;e.removeListener=function(a,b,c){a.on||(a=e.$(a));a.off(b,c)};e.manifest=function(a){e.dispatchEvent("manifest",a)};e.initialisation={};e.ajaxDefaults={async:!0,method:"GET",context:g,complete:function(){},params:null,test:function(){}};e.ajax=function(a,b){function c(a){var c=e.query("head")[0],
d=document.createElement("script"),f="FT_jsonpCallback_1_"+O++;a=a.replace(h,"$1="+f);d.setAttribute("src",a);d.onerror=function(){b.complete.call(this,{status:400,responseText:""})};g[f]=function(a){b.complete.call(this,{status:200,responseText:JSON.stringify(a)});delete g[f]};c.appendChild(d)}var k,f,d=new XMLHttpRequest,l=g.FT.ajaxDefaults;f=document.createElement("a");var h=/([\w%]+)=\[%CALLBACK%]/;f.href=a;f.href=f.href;f=f.protocol!==location.protocol||f.hostname!==location.hostname||f.port!==
location.port&&"80"!==f.port+location.port;for(k in l)b[k]=b[k]||l[k];-1<a.indexOf("ftCreds=1")&&(b.withCredentials=!0);if(f&&!(b&&b.withCredentials||"withCredentials"in d)&&g.hasOwnProperty("XDomainRequest"))d=new g.XDomainRequest,d.onprogress=function(){},d.ontimeout=d.onerror=function(){d.status=400;d.readyState=4;d.onreadystatechange()},d.onload=d.ontimeout=d.onerror=function(){d.status=200;d.readyState=4;d.onreadystatechange()};else if(b&&b.withCredentials)if("withCredentials"in d)d.withCredentials=
!0;else if(h.test(a)){c(a);return}a=a.replace(h,"");d.onreadystatechange=function(a){4===d.readyState&&b.complete.call(b.context,d,a,b.params)};if(!0!==b.context.testMode){d.open(b.method,a,b.async);for(k in b.headers)d.setRequestHeader(k,b.headers[k]);d.send()}else b.test.call(b.context,b.params)};e.getAbsLeft=function(a){for(var b=a.offsetLeft;a.offsetParent;)a=a.offsetParent,b+=a.offsetLeft;return b};e.getAbsTop=function(a){for(var b=a.offsetTop;a.offsetParent;)a=a.offsetParent,b+=a.offsetTop;
return b};"undefined"===typeof console&&(g.console={log:function(){}});e.insertCSS=function(a,b){var c=a.createElement("style"),k=("https:"===location.protocol?"https:":"http:")+"//cdn.flashtalking.com/frameworks/js",f=a.head||a.getElementsByTagName("head")[0]||a.createElement("head");b=b.replace(/\${baseURL}/g,k);"textContent"in c&&(c.textContent=b);f.insertBefore(c,f.children[0]||null);f.parentNode||a.documentElement.insertBefore(f,document.body);a===document&&(e.styleSheet=c.sheet||c.styleSheet);
"textContent"in c||(c.styleSheet.cssText=b.replace(/\${baseURL}/g,k))};(function(a){function b(a,b){var c;try{return c=RegExp("(^| )"+a+"($| )"),c.test(b)}catch(d){return!1}}function c(a,b){if(!(this instanceof c))return new c(a,b);var d,f;this.length=0;if("string"===typeof a){if(/<[^>]+>/.test(a)){d=document.createElement("div");f=document.createDocumentFragment();for(d.innerHTML=a;d.childNodes.length;)f.appendChild(d.childNodes[0]);d=f.childNodes}else d=(b||g).document.querySelectorAll(a);f=d}if(f&&
f.length)for(d=f.length;d--;)1===f[d].nodeType&&Array.prototype.unshift.call(this,f[d]);else a&&(this[0]=a,this.length=1);return this}function e(a,b,c,d){var f=(d?"remove":"add")+"EventListener",k="",g=b.split(" "),l=a.length;b=b.length;!a[0]||f in a[0]||(f=d?"detachEvent":"attachEvent",k="on");for(;l--;)for(d=0;d<b;d++)if(f in a[l])a[l][f](k+g[d],c)}function f(a,b,d){var f,e="last"===d?"appendChild":"insertBefore";b instanceof c||(b=new c(b));a instanceof c||(a=new c(a));f=b.length;if(0<f){var k=
a;a=document.createDocumentFragment();for(var g=0,l=k.length;g<l;g++)a.appendChild(k[g]);for(;f--;)b[f]&&"object"===typeof b[f]&&(k="last"===d||"first"===d?b[f]:b[f].parentNode,g="after"===d?b[f].nextSibling:"first"===d?b[f].childNodes[0]:b[f],what=0===f?a:a.cloneNode(!0),k[e](what,g))}}function d(a,b){for(;a&&(a=a[b+"Sibling"]);)if(1===a.nodeType)return a}var l="undefined"!==typeof document.body.classList;g.FT.$=c;c.prototype.splice=function(a,b){var c=[],d=a,f,e;f=void 0===b?this.length-a:b;if("number"===
typeof f){for(;f--;)c.push(this[d++]);for(d=a;this[d];)this[d+b]?this[d]=this[d+b]:delete this[d],d++;this.length-=b;return c}if(b.length&&"object"===typeof b){e=b.length;for(f=0;f<e;f++)c.push(this[d]),this[d++]=b[f];for(f=0;f++<c.length;)this[d]&&c.push(this[d]),this[d]=c[f-1],d++;this.length+=e;return this}};c.prototype.next=function(){return g.FT.$(this[0].nextElementSibling||d(this[0],"next"))};c.prototype.previous=function(){return g.FT.$(this[0].nextElementSibling||d(this[0],"previous"))};
c.prototype.parent=function(){return g.FT.$(this[0].parentNode)};c.prototype.first=function(){return new c(this[0])};c.prototype.last=function(){return new c(this[this.length-1])};c.prototype.eq=function(a){return new c(this[a])};c.prototype.each=function(a){for(var b=0,c=this.length;b<c;b++)a.call(this[b],b,this[b]);return this};c.prototype.filter=function(a){for(var b=new c,d=0,f=this.length;d<f;d++)a.call(this[d],d,this[d])&&Array.prototype.push.call(b,this[d]);return b};c.prototype.alignTo=function(b){b=
b instanceof c?b:a.d(b);if(!b.length)return this;for(var d=0;d<this.length;d++)1<b.length&&b.length?(this[d].style.left=b.x(b[d])+"px",this[d].style.top=b.y(b[d])+"px"):1===b.length&&(this[d].style.left=b.x(b[d])+"px",this[d].style.top=b.y(b[d])+"px");return this};c.prototype.getAbsLeft=g.FT.getAbsLeft;c.prototype.getAbsTop=g.FT.getAbsTop;c.prototype.x=function(a){a?"number"===typeof a&&this[a]&&(a=this[a]):a=this[0];return this.getAbsLeft(a)};c.prototype.y=function(a){a?"number"===typeof a&&this[a]&&
(a=this[a]):a=this[0];return this.getAbsTop(a)};c.prototype.width=function(){return this[0]&&"object"===typeof this[0]&&this[0].offsetWidth||0};c.prototype.height=function(){return this[0]&&"object"===typeof this[0]&&this[0].offsetHeight||0};c.prototype.children=function(){var b=[],c,d,f;for(c=0;c<this.length;c++)if(1===this.length)b=this[0].children;else for(theseChildren=this[c].children,f=theseChildren.length,d=0;d<f;d++)b.push(theseChildren[d]);return a.d(b)};c.prototype.addClass=function(a){var c=
[],d="",f=0,e;a=a.split(" ");for(f=0;f<this.length;f++){e=a.length;for(d=this[f].className;e--;)l?this[f].classList.add(a[e]):b(a[e],d)||c.push(a[e]);!l&&c&&(this[f].className=d+(""!==d?" ":"")+c.join(" "))}return this};c.prototype.removeClass=function(a){var c=this.length,d;for(a="string"===typeof a?a.split(" "):a;c--;)for(d=a.length;d--;)if(l)this[c].classList.remove(a[d]);else if(b(a[d],this[c].className)){var f=this[c],e;e=this[c].className.replace(a[d],"").replace(/(^ | $)/g).replace(/  /g," ");
f.className=e}return this};c.prototype.hasClass=function(a){var c=this.length,d;for(a=a.split(" ");c--;)for(d=a.length;d--;)if(l&&!this[c].classList.contains(a[d])||!b(a[d],this[c].className))return!1;return!0};c.prototype.clone=function(){for(var a=new c,b=this.length;b--;)a[b]=this[b]&&"object"===typeof this[b]&&this[b].cloneNode?this[b].cloneNode(!0):this[b];return a};c.prototype.data=function(a,b){var c="data-"+a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),d=this[0]&&"object"===typeof this[0]&&
this[0].getAttribute;if(b)for(var f=this.length;f--;)d&&this[f].setAttribute(c,b);else return d&&this[0].getAttribute(c)||"";return this};c.prototype.on=function(a,b){e(this,a,b);return this};c.prototype.off=function(a,b){e(this,a,b,!0);return this};c.prototype.prepend=function(a){f(a,this,"first");return this};c.prototype.prependTo=function(a){f(this,a,"first");return this};c.prototype.append=function(a){f(a,this,"last");return this};c.prototype.appendTo=function(a){f(this,a,"last");return this};
c.prototype.before=function(a){f(a,this,"before");return this};c.prototype.after=function(a){f(a,this,"after");return this};c.prototype.remove=function(){for(var a=this.length;a--;)this[a]&&this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this};c.prototype.empty=function(){for(var a=this.length;a--;)this[a]&&"object"===typeof this[a]&&this[a].childNodes&&(this[a].innerHTML="");return this};c.prototype.css=function(a,b){if(this[0])if("string"!==typeof a||b){var c=this.length,d=b?
{}:a;for(b&&(d[a]=b);c--;)for(var f in d)this[c]&&(this[c].style[f]=d[f])}else return a=a.replace(/-([a-z])/g,function(a,b){return b.toUpperCase()}),g.getComputedStyle?getComputedStyle(this[0])[a]:this[0].currentStyle[a];else return"";return this}})(e);e.prototype.receiveMessages=function(a){var b={method:"",msg:""},c=[];try{b=JSON.parse(a.data)}catch(e){}if("init"!==b.method||this.hasLoaded)this[b.method]&&this.hasLoaded&&(c=b.msg?"Array"===b.msg.constructor.name?b.msg:[b.msg]:null,this[b.method].apply(this,
c));else{this.hasLoaded=!0;for(var f in b.msg)this.placementProperties[f]=b.msg[f];b.msg.newGUID&&!this.get("adPreview")&&this.newGUID();this.dispatchEvent("ready",b)}};e.prototype.dispatch=function(a){this.dispatchEvent(a.ev||a,a.msg)};e.prototype.send=function(a,b){var c={method:a,msg:b};if(this.get("safeFrame"))try{g.parent["ft"+this.get("pID")].receive({data:JSON.stringify(c),origin:"http://cdn.flashtalking.com",source:g,currentTarget:g.parent,srcElement:g.parent,target:g.parent,timeStamp:(new Date).getTime(),
type:"message"})}catch(e){this.error("send trying to access parent window but not on same domain, port and protocol")}else this.notTop&&g.parent.postMessage(JSON.stringify(c),"*")};e.prototype.get=function(a){var b="";"undefined"!==typeof this.placementProperties[a]&&(b=this.placementProperties[a]);return b};e.prototype.getManifest=function(a){var b="";"undefined"!==typeof this.manifestProperties[a]&&(b=this.manifestProperties[a]);return b};e.prototype.checkLoaded=function(){return this.hasLoaded};
e.prototype.tracker=function(a,b,c){for(var e=this.manifestProperties.trackingEvents||[],f=e.length,d=null;f--;)if(a===e[f].name){d=101+f;if("standard"===e[f].type){if(this.firedStandardEvents[d])return;this.firedStandardEvents[d]=!0}else"string"===e[f].type&&2===arguments.length&&(c=b,b=0);break}d&&this.send("tracker",{type:"custom",num:d,value:b,string:c})};e.prototype.clickManager=function(a){this.send("tracker",{type:"clickmap",x:a.pageX,y:a.pageY})};e.prototype.getClickTag=function(a,b){function c(a){var b=
a.escapeIterations;if(a.clickSuf)switch(a.urlCustom.charAt(a.urlCustom.length-1)){case "?":case "&":break;default:a.clickSuf=-1!=a.urlCustom.indexOf("?")?"&"+a.clickSuf:"?"+a.clickSuf}for(;b--;)a.urlCustom=encodeURIComponent(a.urlCustom),a.clickSuf=encodeURIComponent(a.clickSuf);return a}function e(a,b){return RegExp((a?"^":"")+"(http|https|mailto|sms|smsto|tel|facetime|market|spotify|fb|twitter|googlechrome|googlechromes|mopubnativebrowser)(:|%3A|%253A|%25253A)",b||"")}var f="clickTag"+(a||""),d=
document.createElement("a"),l=this.get("clicks"),h="",h={urlCustom:b||"",clickSuf:this.get("ftClickSuf"),escapeIterations:parseInt(this.get("ftEscapeMod"),10)||0,clickTag:f};if(this.hasLoaded){if(b){d.href=b;if(e(!0).test(d.protocol)&&"http"!==d.protocol.slice(0,4)&&(this.tia||this.testMode)||this.get("adPreview"))return b;if("function"==typeof g.customSAClick){var d=g.customSAClick(h),m;for(m in d)h[m]=d[m]}if(e(!0).test(h.urlCustom))if(h=c(h),b=h.urlCustom+h.clickSuf,this.tia||this.testMode||this.get("adPreview"))h=
l[f]+"&APPEND=false&DYNCTTEST="+b;else if(f=l[h.clickTag].split("?"),l=/(&|%26|%2526)url(=|%3D|%253D)\d+/,h=f[0],f[1]=f.slice(1).join("?"),l.test(f[1]))h+="?"+f[1].replace(l,"$1url$2"+b);else{var n;f[1].replace(e(!1,"g"),function(a,b,c,d){n=d});h+="?"+f[1].slice(0,n)+b}else h=this.tia||this.testMode||this.get("adPreview")?l[f]+"&APPEND=true&DYNCTTEST="+b:l[f]+b}else h=l[f];return h}this.error("getClickTag","get ClickTag was called before the myFT.hasLoaded == true")};e.prototype.clickTag=function(a,
b){if(!this.hasLoaded)return this.error("clickTag","clickTag method called before hasLoaded === true");var c=this.getClickTag(a,b);this.send("interactionComplete");this.send("clickthrough",{clickTag:a||1,url:c});"ext"===this.get("api")?this.send("open",c):g.open(c,/((sms|tel|mailto|spotify|facetime):|https?:\/\/maps\.)/i.test(c)&&/ip(ad|hone|od)/i.test(navigator.userAgent)?"_top":"_blank")};e.prototype.applyClickTag=function(a,b,c){function k(a){f.clickTag(b,c);f.clickManager(a);a.stopPropagation?
a.stopPropagation():"undefined"!==typeof a.cancelBubble&&(a.cancelBubble=!0)}a instanceof e.$||(a=e.$(a));var f=this;f.hasLoaded?(a.css("cursor","pointer"),a.on("click",k)):f.addEventListener("ready",function(){f.applyClickTag(a,b,c)})};e.prototype.applyButton=function(a,b){function c(a){k.clickManager(a);a.stopPropagation?a.stopPropagation():"undefined"!==typeof a.cancelBubble&&(a.cancelBubble=!0);b.call(k,a)}a instanceof e.$||(a=e.$(a));var k=this;k.hasLoaded?(a.on("click",c),a.css("cursor","pointer")):
k.addEventListener("ready",function(){k.applyButton(a,b)})};e.prototype.absorbSwipes=function(a){function b(a){a.preventDefault&&a.preventDefault()}var c=document.body.style,k="touchAction"in c?"touchAction":"msTouchAction";this.send("preventSwipes",!!a);!this.absorbSwipesSet&&a?(e.addListener(g,"touchmove",b),k in c&&(c[k]="none")):a||(e.removeListener(g,"touchmove",b),k in c&&(c[k]=""))};e.prototype.newGUID=function(){var a,b=this.replaceMacros(this.get("iDeviceImp"))||"//servedby.flashtalking.com/imp/"+
this.get("campaignID")+";"+this.get("pID")+";207;guid;"+this.get("siteName")+";"+this.get("placementDescription")+"/?ft_guid="+this.get("guid")+"&cachebuster="+1E9*~~Math.random();this.testMode||this.tia||(a=document.createElement("iframe"),a.src=b.replace(/^https?:/,""),a.style.cssText="display:none",document.body.appendChild(a));try{g.localStorage.ftGUID=this.get("guid")}catch(c){}};e.prototype.error=function(a,b){var c="ftError in method "+a+": "+b;if(!g.mocha&&!g.sinon&&!g.chai)return this.get("api"),
this.send("error",c),!1};e.prototype.getMaxSize=function(){return{width:this.get("maxWidth")||0,height:this.get("maxHeight")||0}};e.prototype.getState=function(){return this.get("state")};e.prototype.replaceMacros=function(a,b){var c={a:/\[\%ftPostal\%\]/g,value:this.get("ftPostal")},e={a:/\[\%ftDMA\%\]/g,value:this.get("ftDMA")},f={a:/\[\%ftLat\%\]/g,value:this.get("ftLat")},d={a:/\[\%ftLong\%\]/g,value:this.get("ftLng")||this.get("ftLong")},l={a:/\[\%SERVE_DOM\%\]/g,value:this.get("serveDom")||
this.get("ftServeDom")||this.get("serveDOM")||this.get("tiaServeDom")||this.testMode&&"http://cdn.flashtalking.com"},h={a:/\[\%PROTOCOL\%\]/g,value:"http"+("https:"===location.protocol?"s":"")+"://"},m={a:/\[\%GUID\%\]/g,value:this.get("guid")},n={a:/\[\%FT_GUID\%\]/g,value:this.get("guid")},q={a:/\[\%CACHEBUSTER\%\]/g,value:Math.round(1E9*Math.random())},p={a:/\[\%FT_RANDOM\%\]/g,value:Math.round(1E9*Math.random())},t={a:/\[\%FT_CONFID\%\]/g,value:this.get("ftConfID")},v={a:/\[\%FT_TIMESTAMP\%\]/g,
value:this.get("ftTimestamp")},y={a:/\[\%REQUEST_ORIGIN\%\]/g,value:g.location.host},s={a:/\[\%PRODUCT_ID_SEGMENT\%\]/g,value:b||""},r;if(""===b)r="default";else{r=this.get("ftSegmentList");for(var x=r.length,w=RegExp("("+b+"+([0-9_A-z]+))"),u="";x--;)if(u=w.exec(r[x].s),null!==u){u=u[u.length-1];break}r=u||"default"}c=[c,e,f,d,l,h,m,n,q,p,t,v,y,s,{a:/\[\%PRODUCT_ID\%\]/g,value:r}];e=c.length;for(a=a||"";e--;)c[e].value&&(a=a.replace(c[e].a,c[e].value));return a};e.prototype.isViewable=function(){return this.get("isViewable")};
e.prototype.getSize=function(){return{width:this.get("currentWidth"),height:this.get("currentHeight")}};e.prototype.getOrientation=function(){return this.get("orientation")};e.prototype.destroy=function(){this.send("nuke")};e.initialisation.communicate=function(){function a(a){b.linkedAds[a.name]=!0;for(var e in b.linkedAds)if(!b.linkedAds[e])return;b.adsLinked=!0;b.dispatchEvent("linkready")}var b=this;e.addEventListener("manifest",function(c){if(c.communication){var e=c.communication.linked,f=e.length;
for(b.linkedAds={};f--;)b.linkedAds[e[f]]=!1;b.send("communicate",{type:"register",name:c.communication.name});b.addEventListener("linkedad",a)}})};e.prototype.talk=function(a,b){var c=this;if(c.adsLinked)c.send("communicate",{type:"talk",name:a,msg:b});else c.once("linkready",function(){c.talk(a,b)})};e.prototype.communicate=function(a){var b=a.type?{type:a.type}:null;"talk"===a.type?(b.from=a.name,b.msg=a.msg):(b.type="linkedad",b.name=a.name);this.dispatchEvent(b.type,b)};e.prototype.broadcast=
function(a){for(var b=this.getManifest("communication")?this.getManifest("communication").linked:[],c=b.length||0;c--;)this.talk(b[c],a)};(function(){function a(a,b,c){f||(this.addEventListener("viewableChange",function(a){a=!1===a||"no"===a;for(var b=l.length;b--;)h[a?"off":"on"](l[b][0],l[b][1])}),f=!0);if(!c&&m[a]){if(this.isViewable())h.on(a,b);l.push([a,b])}else if(c)for(c=l.length;c--;)b===l[c][1]&&(l.splice(c,1),h.off(a,b));else this.error("deviceorientation is not supported in this browser")}
function b(a){var b=Date.now()-a.interval,c,d,f;return function(e){var h=0,k=0,m=0;e=e.accelerationIncludingGravity;h=Math.abs(c-e.x);k=Math.abs(d-e.y);m=Math.abs(f-e.z);if(h>a.threshold&&k>a.threshold||h>a.threshold&&m>a.threshold||k>a.threshold&&m>a.threshold)h=Date.now(),h-b>a.interval&&(b=h,g.dispatchEvent(q));c=e.x;d=e.y;f=e.z}}function c(a){void 0===k&&(k=a.alpha);return{alpha:d?a.alpha:a.alpha-k,beta:a.beta,gamma:a.gamma,type:a.type,originalEvent:a,heading:d?a.webkitCompassHeading:a.alpha}}
var k,f=!1,d=/iP(ad|od|hone)/.test(navigator.userAgent),l=[],h=e.$(g),m={deviceorientation:"DeviceOrientationEvent"in g,devicemotion:"DeviceMotionEvent"in g,shake:"DeviceMotionEvent"in g},n={threshold:15,interval:0},q=function(){var a;"function"===typeof document.CustomEvent?a=new document.CustomEvent("shake",{bubbles:!0,cancelable:!0}):"function"===typeof document.createEvent&&(a=document.createEvent("Event"),a.initEvent("shake",!0,!0));return a}();e.prototype.deviceorientation=function(b,d){var f=
this;this.orientationNormaliser=this.orientationNormaliser||function(a){f.dispatchEvent("deviceorientation",c(a))};a.call(this,"deviceorientation",this.orientationNormaliser,!!d)};e.prototype.devicemotion=function(b,c){a.call(this,"devicemotion",b,!!c)};e.prototype.shake=function(c,d,f){f=f||{};for(var e in n)f[e]=f[e]||n[e];a.call(this,"devicemotion",b(f));a.call(this,"shake",c,!!d)}})();e.define("_ft-elements",function(){function a(a){if(Array.isArray)return Array.prototype.slice.call(a);for(var b=
[];b.length!==a.length;)b.push(a[b.length]);return b}function b(a,b){var c=a===v,d=null,f=this.tagName.toLowerCase();if(this.hasAttribute(b[0])){if(d=this.getAttribute(b[0]),!c&&2===b.length&&String(b[1])===d)return}else if(c)return;a.apply(this,b);m.hasOwnProperty(f)&&this.attributeChangedCallback&&this.attributeChangedCallback(b[0],d,c?null:String(b[1]),null)}function c(a,b){var c=[b.target],d=y(m),e;if(b.target.tagName&&d.length){e=b.target.querySelectorAll(d.join(","));for(var d=0,h=e.length;d<
h;d++)c.push(e[d]);d=0;for(h=c.length;d<h;d++)if(e=m[(c[d].tagName||"").toLowerCase()])if(!c[d][a]&&e[a])f(c[d]);else if(c[d][a])c[d][a]()}}function k(b,c){function e(){return d(b)}var h=s(q.prototype);b=b.toLowerCase();for(var k in c)h[k]=c[k];if(r)return r.call(document,b,{prototype:h});if(m[b])throw Error("Tried to register an element, "+b+", but it's already registered");if(-1===b.indexOf("-"))throw Error("Custom elements must have a hyphen in the tag");e.prototype=h;m[b]=h;h=(n[b]||[]).concat(a(document.getElementsByTagName(b)));
k=0;for(var g=h.length;k<g;k++)f(h[k]);delete n[b];p.call(document,b);return e}function f(a){var b=m[a.tagName.toLowerCase()];if(Object.__proto__)a.__proto__=b;else for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);"function"===typeof a.createdCallback&&a.createdCallback();"function"===typeof a.attachedCallback&&document.documentElement.contains(a)&&a.attachedCallback()}function d(a){var b=p.call(document,a);a=a.toLowerCase();"ft-"===a.slice(0,3)&&(m[a]?f(b):(n[a]||(n[a]=[]),n[a].push(b)));return b}
function l(a){return function u(){"function"===typeof this[a]&&this[a]!==u&&this[a].apply(this,arguments)}}function h(a,b,c){g[b]=k(a,{createdCallback:function(){var a=this;e.require([c],function K(){try{"function"===typeof a.createdCallback&&a.createdCallback!==K&&a.createdCallback()}finally{a.ownerDocument.contains(a)&&a.attachedCallback()}})},attachedCallback:l("attachedCallback"),detachedCallback:l("detachedCallback"),attributeChangedCallback:l("attributeChangedCallback")})}var m={},n={},q=g.HTMLElement||
g.Element,p=document.createElement,t=q.prototype.setAttribute,v=q.prototype.removeAttribute,y=Object.keys||function(a){var b,c=[];for(b in a)c.push(b);return c},s=Object.create||function(a){function b(){}b.prototype=a;return new b},r=document.register||document.registerElement;r||((g.HTMLDocument||g.Document).prototype.createElement=d,"addEventListener"in g&&(document.body.addEventListener("DOMNodeInserted",function(a){c("attachedCallback",a)}),document.body.addEventListener("DOMNodeRemoved",function(a){c("detachedCallback",
a)})),q.prototype.setAttribute=function(){b.call(this,t,arguments)},q.prototype.removeAttribute=function(){b.call(this,v,arguments)});h("ft-photoinput","FTPhotoInputElement","photoinput");h("ft-map","FTMapElement","maps");return k});e.prototype.expand=function(a){var b=a&&"undefined"===typeof a.type?a:this.getManifest("expand");!a||a.type||a.customClosePosition?(this.expandProperties||a&&!a.type||this.setExpandProperties(this.getManifest("expand")),b=this.expandProperties):this.setExpandProperties(a)&&
(b=this.expandProperties);if(b){if(this.getManifest("expand")||this.getManifest("video")){var c=this;b.fullscreen&&!0!==b.nonNative&&D(document.documentElement,function(){var a=b.forceOrientation;if(a&&"none"!==a){var f=screen.orientation&&screen.orientation.lock||screen.mozLockOrientation||screen.msLockOrientation;if(f&&(a=f.call(screen.orientation||screen,a),a["catch"]))a["catch"](function(){})}J(c)});this.send("expand",b)}else this.error("expand","No expand component detailed in the manifest");
this.testMode&&this.dispatchEvent("expand")}};e.prototype.resize=function(a){var b;a&&!a.type?this.setResizeProperties(a)&&(b=this.resizeProperties):(this.resizeProperties||a||this.setResizeProperties(this.getManifest("expand")),b=this.resizeProperties);b?this.expand(b):this.error("resize","resize method not successfully executed - invalid argument or setResizeProperties not previously called")};e.prototype.contract=function(){this.absorbSwipes(!1);this.send("contract");document.body.style.margin=
0;B()===document.documentElement&&["exitFullscreen","webkitExitFullscreen","msExitFullscreen","mozCancelFullScreen"].some(function(a){return document[a]&&(document[a](),!0)});this.testMode&&this.dispatchEvent("contract")};e.prototype.setExpandProperties=function(a){var b,c=/(width|height|offsetX|offsetY|indentDown|indentAcross)/,e=[];if(a&&"object"===typeof a){for(b in a)if(c.test(b))e.push(b);else if("fullscreen"===b&&a[b]){e.length=4;break}if(4<=e.length)return void 0===a.useCustomClose&&(a.useCustomClose=
void 0===this.customClose?this.expandProperties&&void 0!==this.expandProperties.useCustomClose?this.expandProperties.useCustomClose:!0:this.customClose),void 0!==a.offsetX&&(a.indentAcross=a.offsetX,a.indentDown=a.offsetY),this.expandProperties=a,!0;this.error("setExpandProperties","the properties object lacked the minimum requirements to set the expandProperties object {width: number, height: number, offsetX: number, offsetY: number}");return!1}this.error("setExpandProperties","the properties object was not present or not a valid object")};
e.prototype.setResizeProperties=function(a){var b,c=/(width|height|offsetX|offsetY|indentDown|indentAcross)/,e=[];if(a&&"object"===typeof a){for(b in a)c.test(b)&&e.push(b);if(4<=e.length)return a.customClosePosition||(a.customClosePosition="top-right"),"undefined"!==typeof a.offsetX&&(a.indentAcross=a.offsetX,a.indentDown=a.offsetY),this.resizeProperties=a,!0;this.error("setResizeProperties","the argument passed in lacked the minimum requirements to set the resizeProperties object {width: number, height: number, offsetX: number, offsetY: number}")}};
e.initialisation.feeds=function(){function a(a){var b=this.feeds,e,d;for(e in b)if(b[e].isDynamic)for(d in a)e==d&&(b[e].url=a[d]);this.dynamicFeedsPrepared=!0;this.dispatchEvent("dynamicFeedsPrepared")}var b=this;e.addEventListener("manifest",function(c){if(c.feeds){var e=c.feeds,f=c.instantAds||[],d=!1;c=e.length;var g=function(a){for(var c in a)this[c]=a[c];this.isDynamic=!1;this.getUrl=function(){return b.replaceMacros(this.url,this.segment)};for(c=f.length;c--;)if(f[c].name===this.name&&"text"===
f[c].type){this.isDynamic=d=!0;break}};for(b.feeds={};c--;)b.feeds[e[c].name]=new g(e[c]);!0===d&&b.addEventListener("instantads",a)}})};e.prototype.callFeed=function(a,b){function c(a,c){d.data=a;c&&(d.error=!0);"function"===typeof b&&b(d);f.dispatchEvent("feedloaded",d)}function k(a){function b(){c("",!0)}var f=e.query("head")[0],k=document.createElement("script");k.setAttribute("src",a);g[d.method]=c;/MSIE 8/.test(navigator.userAgent)?k.onreadystatechange=function(){if(/loaded|complete/.test(k.readyState)){var a=
k.readyState;"complete"==k.readyState?f.appendChild(k):"loaded"==a&&"loading"==k.readyState&&_error()}}:(k.onerror=b,f.appendChild(k))}var f=this,d=f.feeds&&f.feeds[a];!1===f.hasLoaded?f.addEventListener("ready",function(){f.callFeed(a,b)}):d&&(d.isDynamic&&!0!==f.dynamicFeedsPrepared?f.addEventListener("dynamicFeedsPrepared",function(){f.callFeed(a,b)}):void 0===d.method?e.ajax(d.getUrl(),{context:f,complete:function(a){var b;try{b=JSON.parse(a.responseText)}catch(d){b=a.responseText}c(b,400<=a.status||
!a.status)}}):k(d.getUrl()))};e.initialisation.instant=function(){function a(){var a=b.get("adPreview"),k=b.get("testConf"),f=b.get("confID"),d="../"+b.get("creativeID")+".json",g=b.get("ftServeDom")||b.get("tiaServeDom"),h=b.get("mvt");a?d=b.get("ftURLMap")&&b.get("ftURLMap").dynamicAds:k?d=k+f:h&&(d="../mv"+f+".json");/^data/.test(d)||(d+=(0>d.indexOf("?")?"?":d.indexOf("?")===d.length-1?"":"&")+"cb="+~~(1E9*Math.random()));e.ajax(d,{context:b,complete:function(a){var c={},d;if(200===a.status){try{c=
JSON.parse(a.responseText)}catch(e){}for(d in c)b.instantAds[d]=c[d].value||"","string"===typeof c[d].type&&"image"===c[d].type.toLowerCase()&&(b.instantAds[d]=b.tia||b.testMode?"../../instantAssets/"+c[d].value:g+"/"+b.get("cID")+"/instantAssets/"+c[d].value)}b.instantAdsLoaded=!0;b.dispatchEvent("instantads",b.instantAds)},test:function(){b.instantAdsLoaded=!0;b.dispatchEvent("instantads",b.instantAds)}})}var b=this;b.instantAdsLoaded=!1;e.addEventListener("manifest",function(c){if(c.instantAds){var e=
c.instantAds,f=c.videos;c=c.instantAds.length;var d=0;for(b.instantAds={};c--;)if(b.instantAds[e[c].name]=e[c]["default"],"video"===e[c].type.toLowerCase())for(d=f.length;d--;)b.instantAds[e[c].name]=e[c].name===f[d].name?f[d].ref:b.instantAds[e[c].name];b.addEventListener("ready",a)}})};e.makeDispatcher=function(a){a.callbacks={};a.addEventListener=a.on=e.makeDispatcher.addEventListener;a.removeEventListener=a.off=e.makeDispatcher.removeEventListener;a.dispatchEvent=e.makeDispatcher.dispatchEvent;
a.clearEvent=e.makeDispatcher.clearEvent;a.once=e.makeDispatcher.once};e.makeDispatcher.addEventListener=e.makeDispatcher.on=function(a,b){this.callbacks[a]=this.callbacks[a]||[];this.callbacks[a].unshift(b);if(this instanceof e)switch(a){case "instantads":this.instantAdsLoaded&&b(this.instantAds);break;case "richload":this.richloadsLoaded&&b(this.richloads);break;case "load":"complete"!==document.readyState&&"loaded"!==document.readyState||b();break;case "DOMLoaded":"loading"!==document.readyState&&
b();break;case "politeload":this.politeloadFired&&b();break;case "deviceorientation":case "devicemotion":case "shake":this[a](b,!1)}};e.makeDispatcher.once=function(a,b){function c(){b.apply(this,arguments);this.removeEventListener(a,c)}this.addEventListener(a,c)};e.makeDispatcher.off=e.makeDispatcher.removeEventListener=function(a,b){for(var c=this.callbacks[a]||[],k=c.length;k--;)if(c[k]===b){c.splice(k,1);break}if(this instanceof e&&/device(?:motion|orientation)|shake/.test(a))this[a](b,!0)};e.makeDispatcher.dispatchEvent=
function(){var a;a=arguments;for(var b=a.length,c=[];b--;)c[b]=a[b];a=c;b=a.shift();b=this.callbacks[b]||[];for(c=b.length;c--;)b[c].apply(this,a)};e.makeDispatcher.clearEvent=function(a){delete this.callbacks[a]};e.require(["_ft-elements"],function(a){g.FTRichloadElement=g.FTRichLoadElement=a("ft-richload",{createdCallback:function(){}})});e.initialisation.richLoad=e.initialisation.richload=function(){function a(a){return function(b){return e.$(b,a)}}function b(a){return function(b){var c=null;return c=
b.match(/#[a-z0-9_\-]+$/i)?a.document.querySelector(b):a.document.querySelectorAll(b)}}function c(a){e.addListener(d.richloads[a].frame.contentWindow,"click",function(b){var c;c=d.richloads[a].frame;for(var e=c.offsetLeft,f=c.offsetTop;null!==c.offsetParent;)c=c.offsetParent,e+=c.offsetLeft,f+=c.offsetTop;c={x:e,y:f};d.clickManager({pageX:c.x+b.pageX,pageY:c.y+b.pageY})})}function k(a,b){var c={},f=d.richloads;e.addListener(b,"load",function(){d.richloads[a].loaded=!0;var k,g=0,l=0;for(k in f)g++,
f[k].loaded?(c[k]=f[k].loaded,l++):c[k]=!1;l===g&&(d.richloadsLoaded=d.richloadsLoaded=!0);e.insertCSS(b.document,d.defaultCSS);d.richloads[a].frame.style.visibility="";d.dispatchEvent("richload",c)})}function f(){var f,m,l=d.richloads;m=null;var q=d.get("serveDOM"),p;for(p in l)if(!0!==l[p].used){if(m=document.querySelector("#"+p),"dynamic"===l[p].type&&(l[p].src=this.instantAds&&this.instantAds[p]?this.instantAds[p]:l[p].src),m&&/richload/i.test(m.tagName)){f=d.tia||d.testMode?"../../richLoads/"+
l[p].src:d.placementProperties.adPreview?"../richloads/"+l[p].src:q+"/"+d.get("cID")+"/"+l[p].src;/\.html$/i.test(f)||(f+=("/"===f[f.length-1]?"":"/")+"index.html");l[p].used=!0;var t=void 0;g.attachEvent&&!g.addEventListener&&(t=document.createElement("div"),t.id=m.id,t.className=m.className,t.style.cssText=m.style.cssText,m.replaceNode(t),m=document.querySelector("#"+m.id));l[p].frame.src=f;l[p].frame.name=p;l[p].loaded=!1;m.appendChild(l[p].frame);k(p,l[p].frame.contentWindow);l[p].frame.contentWindow.myFT=
this;l[p].frame.contentWindow.FT=new e.Instance;l[p].frame.contentWindow.FT.$=a(l[p].frame.contentWindow);l[p].frame.contentWindow.FT.query=b(l[p].frame.contentWindow);c(p)}}else d.error("initialisation.richload","Richload "+p+" already used")}var d=this,l=[];d.richloadsLoaded=d.richLoadsLoaded=!1;e.Instance=function(){};e.Instance.prototype=e;e.addEventListener("manifest",function(a){if(a.richloads||a.richLoads||a.instantAds){var b=a.richloads||a.richLoads,c=a.instantAds,e=b&&b.length||0;a=!1;var k;
for(d.richLoads=d.richloads={};e--;)if(b&&b[e]){var g=d.richloads,v=b[e].name,y=b[e].src,s;a:{for(var r=(s=c)&&s.length||0;r--;)if(s[r].name===b[e].name&&"richload"===s[r].type.toLowerCase()){a=!0;s="dynamic";break a}s="basic"}g[v]={src:y,type:s,used:!1}}for(k in d.richloads)b=document.createElement("iframe"),b.style.width="100%",b.style.height="100%",b.style.visibility="hidden",b.frameBorder=0,b.scrolling="no",b.setAttribute("margin","0"),b.setAttribute("allowTransparency","true"),b.setAttribute("allowfullscreen",
""),b.setAttribute("webkitallowfullscreen",""),b.name=k,d.richloads[k].frame=b;a?d.addEventListener("instantads",f):d.addEventListener("ready",f);for(k in l)d.insertRichload(l[k]);l=[]}});e.prototype.insertRichload=e.prototype.insertRichLoad=function(f){var g,n=f&&f.richLoad||f.richload;if("undefined"===typeof this.richloads)l.push(f);else{if(!this.richloads[n])throw Error("No richload exists in the manifest with the name "+n);var q=this.richloads[n];if(!0===q.used)throw Error("Richload "+n+" already used");
g=d.tia||!1!==d.testMode?"../../richLoads/"+q.src:d.get("serveDOM")+"/"+d.get("cID")+"/"+q.src;/\.html$/i.test(g)||(g+=("/"===g[g.length-1]?"":"/")+"index.html");q.used=!0;q.frame.src=g;q.frame.name=n;q.loaded=!1;f.parent.appendChild(q.frame);q.frame.contentWindow.myFT=this;q.frame.contentWindow.FT=new e.Instance;q.frame.contentWindow.FT.$=a(q.frame.contentWindow);q.frame.contentWindow.FT.query=b(q.frame.contentWindow);c(n);k(n,q.frame.contentWindow);"dynamic"===q.type&&(q.src=this.instantAds&&this.instantAds[n]?
this.instantAds[n]:q.src)}}};e.prototype.applyShare=function(a,b,c,k){"string"===typeof a&&(a=e.query("#"+a));a instanceof e.$||(a=e.$(a));var f;/ft-share-twitter/.test(a[0].className)&&(f="http://twitter.com/share?text="+encodeURIComponent(k)+"&url="+encodeURIComponent(c));myFT.applyClickTag(a,b,f)};e.testing=function(a){a=a.clickTagCount;for(var b=1,b=/mobile/i.test(navigator.userAgent),c={clicks:{clickTag:"http://www.flashtalking.net/helpSystem/TiA/?n=0"},confID:"0",creativeID:"0",cID:"0",serveDOM:"",
api:"ft",mvt:!1,guid:"0",newGUID:!1,newImp:"",maxWidth:b?document.documentElement.clientWidth:g.innerWidth,maxHeight:b?document.documentElement.clientHeight:g.innerHeight,isViewable:!0,state:"default"},b=1;20>=b;b++)c.clicks["clickTag"+b]="http://www.flashtalking.net/helpSystem/TiA/?n="+(b<=a?b:"error");this.dispatchEvent("politeload");return c};var H="fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",M=!1,F=function(){var a=document.createElement("div");a.className=
"ft-video-controls";a.innerHTML='<span class="ft-icon-play">D</span><span class="ft-video-progress-container">  <span class="ft-video-progress-bar">    <span class="ft-video-buffer"></span>    <span class="ft-video-progress"></span>  </span></span><span class="ft-time-display">0:00</span><span class="ft-icon-volume">G</span><span class="ft-icon-fullscreen">B</span>';return a}(),P={video:"video1",preload:"metadata",poster:"",controls:!1,autoplay:!1,clickTag:!1,muted:!1,forceAutoplay:function(){var a=
navigator.userAgent,b=/iP(?:hone|ad|od)/.test(a),c=b&&!g.indexedDB&&-1===a.indexOf("Version"),e=document.createElement("canvas"),e=e.getContext&&e.getContext("webgl"),f=parseFloat(a.slice(a.indexOf("Android")+8));return 0<a.indexOf("Android")&&(0<a.indexOf("Chrome")||0<a.indexOf("AppleWebKit"))&&4<=f||b&&(!c||e)}()};e.Video=function(a,b){var c=this;this.video=null;this.settings=b;this.container=this.filepath=null;this.hasPlayedThrough=this.hasPlayed=!1;this.cachedStyles={};this.ytVideo=!1;this.myFT=
a;g.FT.$(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",function(){c.video&&c.fullscreenChange(c.isFullscreen())});g.FT.makeDispatcher(this)};e.Video.prototype.play=function(a){this.ytVideo?this.video.playVideo?this.video.playVideo():A(this,"play"):this.video.play(a)};e.Video.prototype.pause=function(a){this.ytVideo?this.video.pauseVideo?this.video.pauseVideo():A(this,"pause"):this.video.pause(a)};e.Video.prototype.stop=function(a){var b=this.video;this.ytVideo?
b.stopVideo?(0<b.getCurrentTime()&&b.seekTo(0),b.stopVideo()):A(this,"stop"):(0<b.currentTime&&(b.currentTime=0),"function"===typeof b.stop?b.stop():(this.videoElement.load(),this.pause(a)))};e.Video.prototype.restart=function(a){this.ytVideo&&!this.video.playVideo?A(this,"restart"):(this.ytVideo?this.video.seekTo(0):this.video.currentTime=0,this.play(a))};e.Video.prototype.goFullscreen=function(){var a=this;a.isFullscreen()||D(a.video,null,function(){a.fallbackFullscreen()})};e.Video.prototype.fallbackFullscreen=
function(){function a(){b.fullscreenChange(b.isFullscreen)}var b=this;g.FT.$(this.video);b.previousState=b.myFT.getState();e.listen(g,"resize",a);b.myFT.once("contract",function(){e.removeListener(g,"resize",a)});b.displayingFallbackFullscreen=!0;b.fullscreenChange(b.isFullscreen);return"expanded"!==b.previousState&&b.myFT.getManifest("expand")?(b.myFT.expand({fullscreen:!0}),!0):!1};e.Video.prototype.isFullscreen=function(){return B()===this.video||this.video.webkitDisplayingFullscreen||!!this.displayingFallbackFullscreen};
e.Video.prototype.fullscreenChange=function(a){var b=this.myFT?this.myFT.videos:{},c=e.$(this.video),g;this.dispatchEvent("fullscreenchange",a);if(a){for(var f in b)b[f]!==this&&N(b[f]);this.displayingFallbackFullscreen?(this.cachedStyles={marginLeft:c[0].style.marginLeft,marginTop:c[0].style.marginTop,left:c[0].style.left,top:c[0].style.top,position:c[0].style.position,width:c[0].style.width,height:c[0].style.height},c[0].style.marginLeft=0,c[0].style.marginTop=0,c[0].style.position=c[0].style.position||
"relative",c[0].style.left=0-c.x()+"px",c[0].style.top=0-c.y()+"px",c[0].style.height=this.myFT.getMaxSize().height+"px",c[0].style.width=this.myFT.getMaxSize().width+"px"):(this.cachedStyles={backgroundColor:"black"!==this.video.style.backgroundColor?this.video.style.backgroundColor:this.cachedStyles.backgroundColor||""},this.video.style.backgroundColor="black")}else for(g in this.cachedStyles)this.video.style[g]=this.cachedStyles[g]||""};e.Video.prototype.leaveFullscreen=function(){this.isFullscreen()&&
!this.displayingFallbackFullscreen?this.video.exitFullScreen?this.video.exitFullscreen():this.video.msExitFullscreen?this.video.msExitFullscreen():this.video.mozExitFullScreen?this.video.mozExitFullScreen():this.video.webkitExitFullscreen?this.video.webkitExitFullscreen():document.cancelFullscreen?document.cancelFullscreen():document.msCancelFullscreen?document.msCancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():
document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozExitFullScreen?document.mozExitFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():this.displayingFallbackFullscreen&&("default"===this.previousState?this.myFT.contract():"resized"===this.previousState&&this.myFT.expand(),this.displayingFallbackFullscreen=!1)};e.Video.prototype.mute=function(){this.savedVolume=0<this.video.volume?this.video.volume:this.savedVolume||
1;this.video.volume=0;this.video.muted=!0;this.ytVideo&&this.video.mute()};e.Video.prototype.unmute=function(){this.video.muted=!1;this.video.volume=this.savedVolume||1;this.ytVideo&&this.video.unMute()};e.Video.userInitiatesPlayback=-1;(function(){function a(a){!f.parentNode||a&&!f.currentTime||(e.Video.userInitiatesPlayback=!f.currentTime,document.body.removeChild(f),clearTimeout(g))}var b=navigator.userAgent,c=/iP(?:hone|ad|od)/.test(b),b=c&&0<b.indexOf("Version");if(!/PhantomJS/.test(navigator.userAgent)&&
document.addEventListener){if(c&&!b)return e.Video.userInitiatesPlayback=!0;var g,f=document.createElement("video"),c=document.createElement("source"),b=document.createElement("source");/msie 9/i.test(navigator.userAgent)||(f.autoplay=!0);c.src="data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAACNxFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggIa7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjQ4LjEwMFdBjUxhdmY1NS40OC4xMDBzpJAvovgexxqSyucVQwYw4Wu/RImIQI9AAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEC+vCAOABAAAAAAAABrCBELqBEB9DtnUBAAAAAAAAl+eBAKO2gQAAgHACAJ0BKhAAEAAARwiFhYiFhIgCAgAMDN2sx+Ng/VP//u0p//8rQ5Hz//3WA//+aDAAo5WBAMgAsQEAARAQABgAGFgv9AAIAACjlYEBkACxAQABEBAAGAAYWC/0AAgAAKOVgQJYALEBAAEQEAAYABhYL/QACAAAo5WBAyAAsQEAARAQABgAGFgv9AAIAAAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw==";
b.src="data:video/mp4;base64,AAAAHGZ0eXBtcDQyAAAAAG1wNDJpc29tYXZjMQAAAz5tb292AAAAbG12aGQAAAAAzaNacc2jWnEAAV+QAAFfkAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAGGlvZHMAAAAAEICAgAcAT////3//AAACQ3RyYWsAAABcdGtoZAAAAAHNo1pxzaNacQAAAAEAAAAAAAFfkAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAEAAAABAAAAAAAd9tZGlhAAAAIG1kaGQAAAAAzaNacc2jWnEAAV+QAAFfkFXEAAAAAAAhaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAAAAAAGWbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABVnN0YmwAAACpc3RzZAAAAAAAAAABAAAAmWF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAEAAQAEgAAABIAAAAAAAAAAEOSlZUL0FWQyBDb2RpbmcAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwH0AAr/4QAZZ/QACq609NQYBBkAAAMAAQAAAwAKjxImoAEABWjOAa8gAAAAEmNvbHJuY2xjAAYAAQAGAAAAGHN0dHMAAAAAAAAAAQAAAAUAAEZQAAAAKHN0c3oAAAAAAAAAAAAAAAUAAAIqAAAACAAAAAgAAAAIAAAACAAAAChzdHNjAAAAAAAAAAIAAAABAAAABAAAAAEAAAACAAAAAQAAAAEAAAAYc3RjbwAAAAAAAAACAAADYgAABaQAAAAUc3RzcwAAAAAAAAABAAAAAQAAABFzZHRwAAAAAAREREREAAAAb3VkdGEAAABnbWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcgAAAAAAAAAAAAAAAAAAAAA6aWxzdAAAADKpdG9vAAAAKmRhdGEAAAABAAAAAEhhbmRCcmFrZSAwLjkuOCAyMDEyMDcxODAwAAACUm1kYXQAAAHkBgX/4NxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxMjAgLSBILjI2NC9NUEVHLTQgQVZDIGNvZGVjIC0gQ29weWxlZnQgMjAwMy0yMDExIC0gaHR0cDovL3d3dy52aWRlb2xhbi5vcmcveDI2NC5odG1sIC0gb3B0aW9uczogY2FiYWM9MCByZWY9MSBkZWJsb2NrPTE6MDowIGFuYWx5c2U9MHgxOjAgbWU9ZXNhIHN1Ym1lPTkgcHN5PTAgbWl4ZWRfcmVmPTAgbWVfcmFuZ2U9NCBjaHJvbWFfbWU9MSB0cmVsbGlzPTAgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0wIGNocm9tYV9xcF9vZmZzZXQ9MCB0aHJlYWRzPTYgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTUwIGtleWludF9taW49NSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmM9Y3FwIG1idHJlZT0wIHFwPTAAgAAAAD5liISscR8A+E4ACAACFoAAITAAAgsAAPgYCoKgoC+L4vi+KAvi+L4YfAEAACMzgABF9AAEUGUgABDJiXnf4AAAAARBmiKUAAAABEGaQpQAAAAEQZpilAAAAARBmoKU";
f.style.cssText="position: absolute; width: 0; height: 0;";g=setTimeout(a,400);f.addEventListener("timeupdate",a);document.body.appendChild(f);f.appendChild(c);f.appendChild(b)}})();e.Video.prototype.loadVid=function(){function a(){d.appendChild(l);d.appendChild(h);d.load()}function b(){var d=e.Video.userInitiatesPlayback;if(-1===d&&1E3>+new Date-c)return setTimeout(b,100);if(!0!==d)return a();e.require(["canvasvideo"],function(){k.canvasVideo=new e.CanvasVideo(k)})}var c=+new Date,k=this,f=this.myFT,
d=k.video,l=document.createElement("source"),h=document.createElement("source"),m=f.get("adPreview"),f=m&&f.get("ftURLMap").videoBaseURL||f.get("ftServeDom")||f.get("tiaServeDom")||"",n=(k.filepath||"").replace(/^http:(?:\/\/video\.flashtalking\.com\/)?/i,"");m?(m=document.createElement("a"),m.href=/^(https?:|\/)/.test(n)?n:"/"+n,n="//"+(f.replace(/^(https?:)?\/\//,"")||m.host)+m.pathname+m.search):/^(?:https?:)?\/\//i.test(n)||(n=("https:"===location.protocol?"https:":"http:")+"//cdn.flashtalking.com"+
(/^\//.test(n)?n:"/"+n));l.src=n+".mp4";l.type="video/mp4";h.src=n+".webm";h.type="video/webm";k.settings.forceAutoplay&&d.autoplay&&g.ArrayBuffer&&Function.prototype.bind?b():a()};e.Video.prototype.switchVideo=function(a){var b,c=this.video;b=this.myFT.getManifest("videos");for(var e=b.length,f=!1;e--;)if(b[e].name===a){f=!0;break}if(f){this.settings.muted=c.isMuted?c.isMuted():c.muted;this.pause();if(b=this.container.querySelector("iframe, canvas"))c.destroy?c.destroy():this.container.removeChild(b),
this.container.insertBefore(this.videoElement,this.container.firstChild);this.video=c=this.videoElement;this.video.style.left="";this.video.style.position="";delete this.filepath;delete this.ytVideo;delete this.canvasVideo;c&&(c.innerHTML="",c.autoplay=this.settings.autoplay,c.muted=this.settings.muted);this.settings.video=a;C(this)}else this.myFT.error("switchVideo","Invalid video "+a)};e.Video.prototype.loadYouTubeVid=function(a,b){function c(a){0===l||0===h?setTimeout(function(){p.width=d.settings.parent.offsetWidth;
p.height=d.settings.parent.offsetHeight;d.video=new g.YT.Player(a,p);d.video.muted=d.settings.muted},200):(d.video=new g.YT.Player(a,p),d.muted=d.settings.muted)}function k(a){function b(){}"function"===typeof g.onYouTubeIframeAPIReady&&(b=g.onYouTubeIframeAPIReady);g.onYouTubeIframeAPIReady=function(){b();c(a)};e.include(("https:"===location.protocol?"https":"http")+"://www.youtube.com/iframe_api")}function f(a){"undefined"!==typeof g.YT&&"undefined"!==typeof g.YT.Player?c(a):k(a)}var d=this,l="",
h="",m=this.container,n=this.filepath,q=function(){var a=/(?:v=|\.be\/)(.*)/.exec(n);""===a||null===a?(myFT.error("insertVideo","No youtube ID detected"),a=""):a=a[1];return a}(),l=b.width?b.width:d.settings.parent.offsetWidth,h=b.height?b.height:d.settings.parent.offsetHeight;this.ytVideo=!0;var l=b.width?b.width:d.settings.parent.offsetWidth,h=b.height?b.height:d.settings.parent.offsetHeight,p={height:h,width:l,videoId:q,muted:d.settings.muted,playerVars:{rel:"0",enablejsapi:"1",controls:!0===d.settings.controls?
"1":"0",origin:null===g.location.origin?"":g.location.origin,showinfo:"0",wmode:"transparent"},events:{onReady:function(){d.muted?d.mute():d.unmute();d.settings.autoplay&&d.play();for(var a=d,b,c=a.settings.actionQueue||[];b=c.shift();)a[b]()},onStateChange:function(a){function b(a){var c=document.createEvent("CustomEvent");c.initCustomEvent(a,!1,!1,null);m.dispatchEvent(c)}var c=a.target;a=["ended","play","pause"][a.data];"ended"===a?(b("timeupdate"),d.settings.loop&&d.restart()):"play"===a&&c.getIframe&&
setTimeout(function r(){b("timeupdate");1===c.getPlayerState()&&setTimeout(r,300)},500);a&&b(a)}}};""!==q&&f(this.video)};e.prototype.videos={};e.prototype.insertVideo=function(a){var b,c=this,g="",f=document.createElement("video"),d=document.createElement("div"),l;if(a)if(a.video)if(a.parent)if("object"!==typeof a.parent)c.error("insertVideo","The parent, defined in the settings argument, should be an HTML Div Element");else{if(f.canPlayType||/phantomjs/i.test(navigator.userAgent)){f.addEventListener("timeupdate",
function(){},!0);b=function(){};b.prototype=P;b=new b;a.parent=0<a.parent.length?a.parent[0]:a.parent;a.controlsParent=a.controlsParent&&0<a.controlsParent.length?a.controlsParent[0]:a.controlsParent;for(l in a)b[l]=a[l];d.className="ft-video";d.setAttribute("data-ft-video",a.video);b.parent.appendChild(d);d.appendChild(f);b.width&&(g+="width:"+b.width+"px;");b.height&&(g+="height:"+b.height+"px;");g&&e.styleSheet.insertRule('[data-ft-video="'+a.video+'"] {'+g+"}",e.styleSheet.cssRules.length);a.clickTag?
f.addEventListener("click",function(b){b.stopPropagation&&b.stopPropagation();c.clickManager(b);c.clickTag("true"===a.clickTag.toString()?0:a.clickTag)}):f.addEventListener("click",function(a){a.stopPropagation&&a.stopPropagation();c.clickManager(a)});for(l in b)try{b[l]&&!/^(?:video|clicktag|parent|controlsParent|forceAutoplay)$/i.test(l)&&(f.setAttribute(l,b[l]),"muted"===l&&b[l]&&(f.muted=!0))}catch(h){}f.controls=!1;return c.applyVideo(f,b)}c.dispatchEvent("videofail")}else c.error("insertVideo",
"There was no parent element defined in the settings argument");else c.error("insertVideo","The settings argument did not contain a video name for referencing against the manifest or it was falsey");else c.error("insertVideo","No settings object was passed to the insertVideo method")};e.prototype.applyVideo=function(a,b){var c=this,g=b.video,f=new e.Video(c,b);f.video=f.videoElement=a;f.container=f.video.parentNode;C(f);(a.parentNode||a).addEventListener("canplay",function(){f.dispatchEvent("playbackready")},
!0);c.getManifest("filename")?c.registerVideo(f):e.addEventListener("manifest",function(){c.registerVideo(f)});return c.videos[g]=f};e.prototype.registerVideo=function(a){function b(b){var c=f();d.send("tracker",{type:"video",id:c,event:b,duration:n});d.dispatchEvent("video",{i:h.video,id:c,event:b});a.dispatchEvent("tracker",{duration:n,event:b})}function c(c){var d,e=a.video,f=g[h.video];f||(g[h.video]=f={c:0});"undefined"===typeof f.b&&(f.b=0);c&&c.detail&&c.detail.cvPlayRatio?c=100*c.detail.cvPlayRatio:
"function"===typeof e.getCurrentTime?(ytVideo=!0,d=e.getDuration(),c=Math.round(e.getCurrentTime())/Math.floor(d)*100):(d=e.duration,c=Math.round(e.currentTime)/Math.floor(d)*100);n=Math.floor(10*d);if(0!==c){switch(f.b){case 0:b("starts");a.hasPlayed=!0;f.b++;break;case 1:25<=c&&(b("25%"),f.b++);break;case 2:50<=c&&(b("50%"),f.b++);break;case 3:75<=c&&(b("75%"),f.b++);break;case 4:100<=c&&(b("100%"),a.hasPlayedThrough=!0,f.f=!0,f.b++)}100>f.c&&100<=c&&a.dispatchEvent("ended");f.c=c}}function e(){var a=
g[h.video];a||(n=void 0,g[h.video]=a={c:0});a.e||(b("init"),a.e=!0);a.f&&!a.g&&(b("replay"),a.g=!0)}function f(){var a=h.video,b=d.getManifest("videos"),c=b.length;if(c){for(;c--;)if(a===b[c].name)return c+1;return"No matching video name in the manifest's Video array"}return"No videos included in the manifest's Video array"}var d=this,g={},h=a.settings,m=a.container,n;"number"===typeof f()?a.video&&(m.addEventListener("play",e,!0),m.addEventListener("timeupdate",c,!0)):d.error("registerVideo",f())};
e.makeDispatcher(e);g.FT=e})(window);
